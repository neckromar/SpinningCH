<section class="g-pos-rel text-center">

  <div class="js-carousel " data-autoplay="true" data-infinite="true"
    data-fade="true" data-speed="5000">
    <div class="js-slide g-bg-img-hero g-height-100vh g-min-height-600" style="background-image: url('assets/images/usuarios/playa.jpg');">

      <div class="container">

        <div class="u-bg-overlay__inner g-absolute-centered w-100">
          <div class="container text-center g-color-white">


            <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" class="col-sm-10">
                <div class="row">
                    <div class="col-md-8">
                        <div class="row">
                            <div class="col-sm-8 registrocuadro" style="   margin-top: 10%; ">

                                <div class="header header-primary text-center">
                                    <h4>{{ title }}</h4>
                                </div>

                                <div class="form-group g-mb-20" *ngIf="status == 'success' ">
                                    <div class="alert alert-success">
                                        Te has modificado correctamente
                                    </div>
                                </div>

                                <div class="form-group g-mb-20 " *ngIf="status == 'error' ">
                                    <div class="alert alert-danger">
                                        Error en el registro
                                    </div>
                                </div>


                                <div class="form-group g-mb-20 input-group">

                                    <span class="input-group-addon">
                                        <i class="material-icons">account_box</i>
                                    </span>
                                    <input type="text"
                                        class="form-control g-font-size-default  g-brd-white inputstyle "
                                        name="name" #name="ngModel" [(ngModel)]="user.name" required
                                        placeholder="Nombre" />

                                </div>
                                <p *ngIf="!name.valid && name.touched" class="text-danger mt-1">
                                    <strong>El nombre es obligatorio</strong>
                                </p>

                                <div class="form-group g-mb-20 input-group">
                                    <span class="  input-group-addon">
                                        <i class="material-icons">account_box</i>
                                    </span>
                                    <input type="text"
                                        class="form-control g-font-size-default  g-brd-white  inputstyle"
                                        name="surname" #surname="ngModel" [(ngModel)]="user.surname"
                                        required placeholder="Appellidos" />
                                </div>
                                <p *ngIf="!surname.valid && surname.touched" class="text-danger mt-1">
                                    <strong> Los apellidos son obligatorios</strong>
                                </p>

                                <div class="form-group g-mb-20 input-group">
                                    <span class="input-group-addon">
                                        <i class="material-icons">email</i>
                                    </span>
                                    <input type="email" class="form-control  g-brd-white inputstyle"
                                        name="email" #email="ngModel" [(ngModel)]="user.email" required
                                        placeholder="Email" />

                                </div>
                                <p *ngIf="!email.valid && email.touched" class="text-danger mt-1">
                                    <strong> El email es obligatorio</strong>
                                </p>

                                <div class="form-group g-mb-20">
                                    <div *ngIf="identity && identity.image_path">
                                       <img src="{{url + 'user/image-collect/'+ identity.image_path}}" class="avatar_edit" />
                                    </div>
                                       <angular-file-uploader
                                       [config]="afuConfig"
                                       [resetUpload]=resetVar
                                       (ApiResponse)="avatarUpload($event)">
                                       
                                     </angular-file-uploader> 
                                     
                                   </div>
                                <button type="submit" class="btn  btn-success" (click)="onSubmit()"  [disabled]="!userForm.form.valid" >Actualizate
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>